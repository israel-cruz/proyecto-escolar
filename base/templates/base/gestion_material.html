{% extends 'base/main.html' %}

{% block content %}
<div class="row page-titles mx-0">
    <div class="col p-md-0">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="javascript:void(0)">Dashboard</a></li>
            <li class="breadcrumb-item active"><a href="javascript:void(0)">Gestión de material</a></li>
        </ol>
    </div>
</div>
<!-- row -->

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Gestión del registro de entradas/salidas de materiales</h4>
                    <div class="table-responsive">
                        <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4">
                            <div class="row">
                                <div class="col-sm-12 col-md-6">
                            </div><div class="col-sm-12 col-md-6"><div id="DataTables_Table_0_filter" class="dataTables_filter"></div></div></div>
                            <div class="row"><div class="col-sm-12"><table class="table table-striped table-bordered zero-configuration dataTable" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info">
                            <thead>
                                <tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending"  style="width: 243.203px;">ID de Registro</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 381.547px;">ID de Material</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 182.672px;">Nombre de material</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 93.0938px;">Clasificación</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 167.594px;">Descripción</th>
                                <th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 142.984px;">Cantidad</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 142.984px;">Estado</th>
                                <th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 142.984px;">Usuario</th>
                                <th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" style="width: 142.984px;">Dar de baja</th>
                            </tr>
                            </thead>
                            <tbody>
                                {% for l in lista %}

                                {% if forloop.counter0|divisibleby:2 %}
                                <tr role="row" class="even">
                                    <td class="sorting_1">{{l.id}}</td>
                                    <td>{{l.codigo}}</td>
                                    <td>{{l.codigo.nombre}}</td>
                                    <td>{{l.codigo.clasificacion}}</td>
                                    <td>{{l.descripcion}}</td>
                                    <td>{{l.cantidad}}</td>
                                    <td>{%if l.baja %}<span class="label label-pill label-danger">Baja</span>{%else%}<span class="label label-pill label-success">Ok</span>{%endif%}</td>
                                    <td>{{l.usuario}}</td>
                                    <td>{% if l.baja == False %}<a href="{% url 'baja-material' l.id %}"><button type="button" class="btn mb-1 btn-outline-danger"><span style="font-weight:bold; color:rgb(209, 0, 0);" class="icon-trash"></span></button></a>{% endif%}</td>
                                </tr>
                                {% else %}
                                <tr role="row" class="odd">
                                    <td class="sorting_1">{{l.id}}</td>
                                    <td>{{l.codigo}}</td>
                                    <td>{{l.codigo.nombre}}</td>
                                    <td>{{l.codigo.clasificacion}}</td>
                                    <td>{{l.descripcion}}</td>
                                    <td>{{l.cantidad}}</td>
                                    <td>{%if l.baja %}<span class="label label-pill label-danger">Baja</span>{%else%}<span class="label label-pill label-success">Ok</span>{%endif%}</td>
                                    <td>{{l.usuario}}</td>
                                    <td>{% if l.baja == False %}<a href="{% url 'baja-material' l.id %}"><button type="button" class="btn mb-1 btn-outline-danger"><span style="font-weight:bold; color:rgb(209, 0, 0);" class="icon-trash"></span></button></a>{% endif%}</td>
                                </tr>
                                {% endif %}
                                    {% endfor %}
                                    </tbody>
                            <tfoot>
                                <tr><th rowspan="1" colspan="1">ID de Registro</th><th rowspan="1" colspan="1">ID de Material</th><th rowspan="1" colspan="1">Nombre de material</th><th rowspan="1" colspan="1">Clasificación</th><th rowspan="1" colspan="1">Descripción</th><th rowspan="1" colspan="1">Cantidad</th>
                                    <th rowspan="1" colspan="1">Estado</th>
                                    <th rowspan="1" colspan="1">Usuario</th>
                                    <th rowspan="1" colspan="1">Dar de baja</th>
                                </tr>
                            </tfoot>
                        </table></div></div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}